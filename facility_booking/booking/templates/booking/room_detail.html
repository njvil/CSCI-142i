{% extends 'base.html' %}

{% block sub_navbar %}
<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">
    <a class="navbar-nav" href="{% url 'room_list' %}" style="color: #575757; text-decoration: none;">
      <i class="bi bi-arrow-left me-2"></i><em>Back to Home</em></a>
  </div>
</nav>
{% endblock %}

{% block content %}
<h2>{{ room.name }}</h2>
<p>{{ room.description }}</p>
<p><strong>Capacity:</strong> {{ room.capacity }}</p>
<p><strong>Location:</strong> {{ room.location }}</p>
<p><strong>Equipment:</strong> {{ room.equipment }}</p>
<hr style="margin: 30px 0;">
<h3>Bookings for this Room</h3>
<ul class="list-group">
  {% for booking in bookings %}
    <li class="list-group-item">
      <strong>{{ booking.event_title }}</strong>:
      {{ booking.start_time|date:"Y-m-d H:i" }} - {{ booking.end_time|date:"Y-m-d H:i" }}
      ({{ booking.status }})
    </li>
  {% empty %}
    <li class="list-group-item">No bookings yet.</li>
  {% endfor %}
</ul>
<a href="{% url 'create_booking' %}" class="btn btn-primary mt-3">Book this Room</a>
<hr style="margin: 30px 0;">
<h3>Check Other Rooms</h3>
<p>
<div class="row">
  {% for other_room in other_rooms %}
  <div class="col-md-3 col-sm-6">
    <a href="{% url 'room_detail' other_room.pk %}" style="text-decoration: none">
      <div class="card mb-2 custom-card"> 
        <div class="card-body p-2"> 
          <h6 class="card-title">{{ other_room.name }}</h6> 
          <p class="card-text text-truncate" style="max-width: 250px;">{{ other_room.description }}</p>
        </div>
      </div>
    </a>
  </div>
  {% endfor %}
</div>
</p>
{% endblock %}
